---
title: Logs
description: Track user actions and system behavior.
---

Logs are the immutable history of what happens in your application. A log consists of a name, a timestamp, and a JSON payload.

## Log Structure

A valid log object contains the following fields:

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `name` | string | **Yes** | The name of the log (e.g., `signup.completed`). |
| `user_id` | string | No | The ID of the user who performed the action. |
| `data` | object | No | Arbitrary JSON object with log properties. |
| `timestamp` | string | No | ISO 8601 timestamp. Defaults to `now`. |

## Sending Logs

Use the `logs.new` method to record a log.

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import Userplex from 'userplex';

    const client = new Userplex({
      apiKey: process.env['USERPLEX_API_KEY'],
    });

    await client.logs.new({
      name: 'invoice.paid',
      user_id: 'cus_8374',
      data: {
        invoice_id: 'inv_993',
        amount: 2000,
        currency: 'usd'
      }
    });
    ```
  </Tab>
  <Tab title="Ruby">
    ```ruby
    require "userplex"

    userplex = Userplex::Client.new(
      api_key: ENV["USERPLEX_API_KEY"]
    )

    userplex.logs.new(
      name: "invoice.paid",
      user_id: "cus_8374",
      data: {
        invoice_id: "inv_993",
        amount: 2000,
        currency: "usd"
      }
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST https://api.userplex.app/log \
      -H "Authorization: Bearer $USERPLEX_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "name": "invoice.paid",
        "user_id": "cus_8374",
        "data": {
          "invoice_id": "inv_993",
          "amount": 2000,
          "currency": "usd"
        }
      }'
    ```
  </Tab>
</Tabs>

## Naming Conventions

We recommend using a `noun.verb` syntax for your log names. This keeps your data organized and easy to search.

<CardGroup cols={2}>
  <Card title="Good" icon="check" color="#16A34A">
    * `project.created`
    * `user.signup`
    * `payment.failed`
  </Card>
  <Card title="Bad" icon="xmark" color="#DC2626">
    * `created project`
    * `User Clicked Signup Button`
    * `fail`
  </Card>
</CardGroup>

## Batching

For high-throughput applications, you can send up to 100 logs in a single batch request using `logs.batch`.

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const response = await client.logs.batch({
      body: [
        { name: 'page.view', user_id: 'u_1', data: { path: '/home' } },
        { name: 'page.view', user_id: 'u_2', data: { path: '/pricing' } },
        { name: 'button.clicked', user_id: 'u_1', data: { button: 'signup' } }
      ]
    });

    console.log(response.success); // true
    ```
  </Tab>
  <Tab title="Ruby">
    ```ruby
    response = userplex.logs.batch(
      body: [
        { name: "page.view", user_id: "u_1", data: { path: "/home" } },
        { name: "page.view", user_id: "u_2", data: { path: "/pricing" } },
        { name: "button.clicked", user_id: "u_1", data: { button: "signup" } }
      ]
    )

    puts(response.success) # true
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST https://api.userplex.app/logs \
      -H "Authorization: Bearer $USERPLEX_API_KEY" \
      -H "Content-Type: application/json" \
      -d '[
        { "name": "page.view", "user_id": "u_1" },
        { "name": "page.view", "user_id": "u_2" }
      ]'
    ```
  </Tab>
</Tabs>

<Tip>
  Use batching when you have multiple logs to send at once. It reduces API calls and is more efficient for high-volume applications.
</Tip>
